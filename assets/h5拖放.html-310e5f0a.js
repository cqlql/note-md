import{_ as p,Z as e,$ as o,a0 as n,a1 as a,Y as t,a2 as c,E as l}from"./framework-d33190a3.js";const i={},u=c(`<h2 id="å…ƒç´ å¯æ‹–æ”¾è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#å…ƒç´ å¯æ‹–æ”¾è®¾ç½®" aria-hidden="true">#</a> å…ƒç´ å¯æ‹–æ”¾è®¾ç½®</h2><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å°5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ç›¸å…³äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³äº‹ä»¶" aria-hidden="true">#</a> ç›¸å…³äº‹ä»¶ï¼š</h2><ul><li>æ‹–åŠ¨å…ƒç´ æ³¨å†Œ <ul><li>dragstartï¼šå¼€å§‹æ‹–æ”¾</li><li>dragendï¼šæ‹–æ”¾ç»“æŸ</li></ul></li><li>å®¹å™¨æ³¨å†Œ <ul><li>drop: å®¹å™¨ä¸Šæ”¾ä¸‹</li><li>dragenter: æ‹–è¿›å®¹å™¨</li><li>dragleave: æ‹–ç¦»å®¹å™¨</li><li>dragenter: å®¹å™¨ä¸Šæ‹–åŠ¨ åå¤è§¦å‘</li></ul></li></ul><h2 id="dragevent-éƒ¨åˆ†ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#dragevent-éƒ¨åˆ†ä½¿ç”¨" aria-hidden="true">#</a> DragEvent éƒ¨åˆ†ä½¿ç”¨</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// æ‹–åŠ¨å…ƒç´ ä¸­è®¾ç½®</span>
e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>

<span class="token comment">// å®¹å™¨ä¸­è·å–</span>
<span class="token keyword">var</span> text <span class="token operator">=</span> e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ›´æ”¹æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#æ›´æ”¹æŒ‡é’ˆ" aria-hidden="true">#</a> æ›´æ”¹æŒ‡é’ˆ</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// dragstart äº‹ä»¶ä¸­è®¾ç½®</span>
e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">&#39;copyMove&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŸºæœ¬ä½¿ç”¨ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨ä¾‹å­" aria-hidden="true">#</a> åŸºæœ¬ä½¿ç”¨ä¾‹å­</h2><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">///// æ‹–åŠ¨å…ƒç´ æ³¨å†Œ</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;dragstart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> DragEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">;</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;dragging&#39;</span><span class="token punctuation">)</span>
  e<span class="token punctuation">.</span>dataTransfer<span class="token operator">!</span><span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">&#39;copyMove&#39;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¼€å§‹æ‹–æ”¾&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;dragend&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">;</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;dragging&#39;</span><span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ‹–æ”¾ç»“æŸ&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">///// å®¹å™¨æ³¨å†Œè§¦å‘</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;drop&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å®¹å™¨ä¸Šæ”¾ä¸‹&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;dragleave&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ‹–ç¦»å®¹å™¨&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;dragenter&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ‹–è¿›å®¹å™¨&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
eItem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;dragover&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å®¹å™¨ä¸Šæ‹–åŠ¨æ—¶è§¦å‘ï¼Œå¹¶ä¸”åå¤è§¦å‘</span>

  <span class="token comment">// è¿™ä¸ªåˆ¤æ–­æ˜¯å¤„ç†ï¼Œå¦‚æœæ‹–åŠ¨çš„æ˜¯è‡ªå·±ï¼Œå°±ä¸å‡ºç°åŠ å·å›¾æ ‡</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&#39;dragging&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// åŠ äº†è¿™ä¸ªæ‰æœ‰æŒ‡é’ˆåŠ å·å›¾æ ‡</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ -- eItem.addEventListener -- :&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å®¹å™¨ä¸Šæ‹–åŠ¨ åå¤è§¦å‘&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‚è€ƒæ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£" aria-hidden="true">#</a> å‚è€ƒæ–‡æ¡£</h2>`,11),r={href:"https://zhuanlan.zhihu.com/p/394013628",target:"_blank",rel:"noopener noreferrer"},k={href:"https://developer.mozilla.org/en-US/docs/Web/Events/drag",target:"_blank",rel:"noopener noreferrer"};function d(v,g){const s=l("ExternalLinkIcon");return e(),o("div",null,[u,n("p",null,[n("a",r,[a("HTML5 Drag Api æ€»ç»“"),t(s)])]),n("p",null,[n("a",k,[a("MDN æ–‡æ¡£å‚è€ƒ"),t(s)])])])}const b=p(i,[["render",d],["__file","h5æ‹–æ”¾.html.vue"]]);export{b as default};
